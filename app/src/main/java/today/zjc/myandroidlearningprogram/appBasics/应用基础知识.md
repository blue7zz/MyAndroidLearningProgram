# 应用基础知识

1. 可以使用 Kotlin Java C++ 语言编写Android 应用。 -- 开发Android 应用语言

2. Android SDK工具会将代码连同任何数据和资源编译成一个APK（Android 软件包）
   ---编译安卓应用

3. .apk 后缀是一个归档文件，包含Android应用所有内容。 --- Android 应用安装文件


每个Android应用都处于各自的**安全沙盒**中，并受以下安全能能保护

- Android操作系统 --> 多用户Linux系统
  -   每个应用都是一个不同的用户
- 默认情况
  - 系统会为每个应用分配一个唯一的Linux用户ID（ID仅由系统使用，用户并不知道）。
  - 系统会为应用中所有文件设置权限,只有分配给该应用的用户ID才能访问这些文件
  - 每个应用都在其自己的Linux进程内运行。
  - Android系统会在需要执行任何应用组件时启动该进程,然后当不再需要该进程或系统必须为其他应用恢复内存时，便会关闭该进程。
- 每个进程都拥有自己的虚拟机(VM),因此应用代码独立于其他应用而运行

**Android 最小权限原则**

每个应用只能访问执行其工作所需要的组件，而不能访问其他组件。

应用可以通过一些途径与其他应用共享数据以及访问系统服务

1. 安排两个应用共享一个LinuxID.
2. 应用可以请求访问设备数据，用户必须明确授予这些权限。[系统权限](https://developer.android.google.cn/training/permissions/index.html)

## 应用组件

    应用组件是Android应用的基本构建块。每个组件都是一个入口点。
    每种组件都有不同的用途和生命周期
    
1. Activity
2. Service(服务)
3. BroadCast Receivers(广播接收器)
4. Content Providers(内容提供者)


#### Activity

[Activity](https://developer.android.google.cn/reference/android/app/Activity.html)是与用户交互的入口点。它表示有用界面的单个屏幕。



#### Service

[Service](https://developer.android.google.cn/reference/android/app/Service.html)是一个通用入口点，用于因各种原因使应用的后台保持运行状态。

**后台运行组件**，用于执行长时间运行的操作或为远程进程执行作业。

1. 完全后台运行(音乐)
2. 与Activity绑定

    注意：Android 5.0(API>=21) 使用 JobScheduler类来调度操作
    JobScheduler优势，优化作业调度来降低功耗,以及使用Doze API,省点目的
    
- [JobScheduler](https://developer.android.google.cn/reference/android/app/job/JobScheduler.html)
- [Doze API](https://developer.android.google.cn/training/monitoring-device-state/doze-standby.html)

#### Broadcast Receivers

[Broadcast Receivers](https://developer.android.google.cn/reference/android/content/BroadcastReceiver.html),系统能够在常规用户流之外向应用传递事件，从而允许应用响应系统范围内的广播通。

1. 系统
    - 通知屏幕已关闭 
    - 电池电量不足或已拍摄照片的广播

2. 应用
    - 应用也可以单独发起广播

广播可以执行小量工作的Service.

[JobScheduler](https://developer.android.google.cn/reference/android/app/job/JobScheduler.html)
[JobService](https://developer.android.google.cn/reference/android/app/job/JobService.html)

#### Content Providers

[Content
Providers](https://developer.android.google.cn/reference/android/content/ContentProvider.html)
管理一组共享的应用数据(文件系统，SQLite数据库，网络,其他持久化存储位置),其他应用可以通过Content
Providers 查询和修改数据。

eg. [联系人](https://developer.android.google.cn/reference/android/provider/ContactsContract.Data.html)

应用可以决定如何将其包含的数据映射到URI命名空间，进而将这些URI分发给其他实体。

- 分配URI无需应用保持运行状态，

[Content Providers](https://developer.android.google.cn/guide/topics/providers/content-providers.html)


### 启动组件

在四种组件类型中，有三种(Activity,服务和广播接收器)均通过异步消息[Intent](https://developer.android.google.cn/reference/android/content/Intent.html)进行启动。

- Intent 会再运行时对各个组件进行互相绑定。
    - Intent 
        -  显示Intent
        -  隐式Intent
- . Content Providers 由 ContentResolver请求目标时，启动。

**1,2,3 传递Intent 启动**

1. Activity 
   - startActivity()
   - startActivityForResult()
2. Service
   -  JobScheduler 
      -  startService() 
      -  bindService() 
3. Broadcast Receivers
   - sendBroadcast()
   - sendOrderedBroadcast()
   - sendStickyBroadcast() 
4. Content Providers
   -  ContentResolver 调用query() 对内容提供程序进行查询
   
[Intent 和 Intent过滤器](https://developer.android.google.cn/guide/components/intents-filters.html)


## 清单文件
